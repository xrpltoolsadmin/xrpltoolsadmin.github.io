(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f4f38d4c"],{"7d88":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return c}));r("d3b7");var n=r("9e9c"),i="https://xrpltools-api.azurewebsites.net/api/v1";function a(e){return fetch("https://api.xrpscan.com/api/v1/account/"+e+"/obligations")}function s(e){return Object(n["c"])(i+"/trustlines/",e)}function o(e){return Object(n["d"])(i+"/trustlines/",e)}function l(){return Object(n["b"])(i+"/trustlines/")}function c(e){return Object(n["b"])(i+"/trustlines/search?key="+e)}},"9e9c":function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return d}));var n=r("1da1"),i=(r("96cf"),r("e9c4"),r("d3b7"),r("9a90")),a=r("2b0e"),s=a["default"].prototype,o=Object(i["b"])();function l(e,t){var r={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.jwtToken},body:JSON.stringify(t)};return fetch(e,r)}function c(e,t){var r={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.jwtToken},body:JSON.stringify(t)};return fetch(e,r)}function u(e){var t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.jwtToken}};return fetch(e,t)}function d(e){var t={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.jwtToken}};return fetch(e,t)}function f(e){e&&401==e.code&&(Object(i["c"])(),s.$router.push("/login"))}var m=window,h=m.fetch;window.fetch=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h.apply(void 0,r);case 2:return t=e.sent,t.clone().json().then((function(e){return f(e)})).catch(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))},"9feb":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"basic-cont"},[r("el-row",[r("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.saveLoading,expression:"saveLoading"}],staticClass:"trustline-form",attrs:{xs:24,sm:24,md:12,lg:12}},[r("el-form",{ref:"trustlineForm",attrs:{model:e.form,rules:e.rule,"label-width":"120px"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:!(e.form.id&&null!=e.form.id&&""!=e.form.id),expression:"!(form.id && form.id != null && form.id != '')"}]},[r("h4",[e._v("TRUSTLINE URL")]),r("el-form-item",[r("el-input",{attrs:{placeholder:"Please paste trustline URL here to generate values below"},on:{change:function(t){return e.fillForm()}},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),r("h4",[e._v("PARAMETERS")]),r("el-form-item",{attrs:{label:"Address",prop:"address"}},[r("el-input",{attrs:{readonly:""},on:{change:function(t){return e.fillCurrency()}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),r("el-form-item",{attrs:{label:"Currency",prop:"currency"}},[r("el-select",{model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}},e._l(e.currencies,(function(e){return r("el-option",{key:e.code,attrs:{label:e.name+" - "+e.code,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"Limit",prop:"limit"}},[r("el-input",{attrs:{readonly:""},model:{value:e.form.limit,callback:function(t){e.$set(e.form,"limit",t)},expression:"form.limit"}})],1)],1),r("h4",[e._v("ADDITIONAL INFORMATION")]),r("el-form-item",{attrs:{label:"Twitter URL"}},[r("el-col",{staticStyle:{"margin-right":"10px"},attrs:{xs:17,sm:17,md:17,lg:17}},[r("el-input",{model:{value:e.form.twitterUrl,callback:function(t){e.$set(e.form,"twitterUrl",t)},expression:"form.twitterUrl"}})],1),r("el-col",{attrs:{xs:6,sm:6,md:6,lg:6}},[r("el-button",{attrs:{type:"primary"}},[e._v("Find Twitter Profile")])],1)],1),r("el-form-item",{attrs:{label:"Image URL"}},[r("el-input",{model:{value:e.form.imageUrl,callback:function(t){e.$set(e.form,"imageUrl",t)},expression:"form.imageUrl"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-checkbox-button",{staticClass:"trustline-scam",model:{value:e.form.isScam,callback:function(t){e.$set(e.form,"isScam",t)},expression:"form.isScam"}},[e._v("This Token is a Scam")])],1),r("el-form-item",[r("el-button",{staticClass:"for-submit",attrs:{type:"primary"},on:{click:function(t){return e.saveTrustline()}}},[e._v("Save")]),r("el-button",{staticClass:"for-submit",attrs:{type:"warning"},on:{click:function(t){return e.clearForm()}}},[e._v("Clear")])],1)],1)],1)],1),r("el-row",{staticClass:"pane-cont"},[r("TrustlineListSearch",{attrs:{reload:e.rel,mode:"trustline_admin","fire-back":e.fireBackFromAdmin}})],1)],1)},i=[],a=(r("b0c0"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861"),r("d81d"),r("25f0"),r("7d88")),s=r("e406"),o={components:{TrustlineListSearch:s["a"]},data:function(){return{saveLoading:!1,currencies:[],form:{id:"",url:"",address:"",currency:null,limit:"",twitterUrl:"",isScam:!1},rel:!1,rule:{address:{required:!0,message:"Address is required, please generate from trustline URL above"},currency:{required:!0,message:"You must select a currency, please generate from trustline URL above"},limit:{required:!0,message:"Limit is required, please generate from trustline URL above"}}}},created:function(){},methods:{fireBackFromAdmin:function(e){this.form.id=e.id,this.form.twitterUrl=e.twitterUrl,this.form.imageUrl=e.imageUrl,this.form.isScam=e.isScam},saveTrustline:function(){var e=this.form;e.id&&null!=e.id&&""!=e.id?this.updateTrustlineInfo(e):this.createTrustline(e)},updateTrustlineInfo:function(e){var t={id:e.id,twitterUrl:e.twitterUrl,imageUrl:e.imageUrl,isScam:e.isScam},r=this;r.saveLoading=!0,Object(a["e"])(t).then((function(e){return e.json()})).then((function(e){r.saveLoading=!1,"SUCCESS"===e.status?(r.$message.success("Successfully update trustline info"),r.clearForm(),r.rel=!r.rel):r.$message.error(e.errorMessage)}))},createTrustline:function(e){var t=this;t.$refs["trustlineForm"].validate((function(r){if(1==r){var n={name:t.currencies[e.currency].name,issuerAddress:e.address,currencyCode:t.currencies[e.currency].code,limit:e.limit,twitterUrl:e.twitterUrl,imageUrl:e.imageUrl,isScam:e.isScam};t.sendCreateTruslineRequest(n)}}))},clearForm:function(){this.form={url:"",address:"",currency:null,limit:"",twitterUrl:"",imageUrl:"",isScam:!1},this.currencies=[]},sendCreateTruslineRequest:function(e){var t=this;t.saveLoading=!0,Object(a["a"])(e).then((function(e){return e.json()})).then((function(e){t.saveLoading=!1,"SUCCESS"===e.status?(t.$message.success("Successfully added Trustline/Token"),t.clearForm(),t.rel=!t.rel):t.$message.error(e.errorMessage)}))},fillForm:function(){var e=new URL(this.form.url),t=e.searchParams.get("issuer"),r=e.searchParams.get("limit");this.form={address:t,limit:r},this.fillCurrency()},fillCurrency:function(){var e=this,t=this;Object(a["b"])(this.form.address).then((function(e){return e.json()})).then((function(r){var n=r.map((function(e,r){return{id:r,code:e.currency,name:t.fetchDecodeCurrency(e.currency)}}));e.currencies=n}))},fetchDecodeCurrency:function(e){return e.length>3?this.convertHexToText(e):e},convertHexToText:function(e){for(var t=e.toString(),r="",n=0;n<t.length;n+=2)r+=String.fromCharCode(parseInt(t.substr(n,2),16));return r.substring(0,r.indexOf("\0"))}}},l=o,c=(r("fe12"),r("2877")),u=Object(c["a"])(l,n,i,!1,null,null,null);t["default"]=u.exports},a95e:function(e,t,r){},af8e:function(e,t,r){},d236:function(e,t,r){"use strict";r("af8e")},e406:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],style:null!=e.height&&""!=e.height?"height:"+e.height+"px; overflow: auto; white-space: nowrap;":""},[r("el-row",{staticClass:"search-param-cont"},[r("el-input",{staticClass:"search-param",attrs:{placeholder:"Seach address, currency code and token name.."},model:{value:e.searchParam,callback:function(t){e.searchParam=t},expression:"searchParam"}}),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchTrustline()}}},[e._v("Search")]),r("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.fetchTrustlines()}}},[e._v("Reload")])],1),r("el-table",{attrs:{data:e.tokenList,fit:"","highlight-current-row":"","row-class-name":e.getRowTableClassName},on:{"row-click":e.rowClick}},[r("el-table-column",{attrs:{align:"left",label:"Name",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),r("el-table-column",{attrs:{align:"left",label:"Address"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.issuerAddress)+" ")]}}])}),r("el-table-column",{attrs:{align:"left",label:"Currency Code"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.currencyCode)+" ")]}}])}),r("el-table-column",{attrs:{align:"left",label:"Limit",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.limit)+" ")]}}])}),r("el-table-column",{attrs:{align:"left",label:"Twitter",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row.twitterUrl&&""!=t.row.twitterUrl?r("div",[r("a",{staticClass:"twitter-url-link",attrs:{target:"_blank",href:t.row.twitterUrl}},[e._v("Link")])]):e._e()]}}])})],1)],1)},i=[],a=(r("b0c0"),r("7d88")),s={props:["mode","height","fireBack","modal","reload"],data:function(){return{tokenList:null,listLoading:!1,searchParam:null}},created:function(){this.fetchTrustlines()},watch:{reload:function(){this.fetchTrustlines()}},methods:{getRowTableClassName:function(e){var t=e.row;e.index;return t.isScam&&null!=t.isScam&&1==t.isScam?"trustline-token-scam":""},rowClick:function(e){if("airdrop_schedule"===this.mode){var t={id:e.id,name:e.name,imageUrl:e.imageUrl};this.fireBack(t),this.modal.obj.hide(this.modal.name)}else"trustline_admin"===this.mode&&this.fireBack(e)},fetchTrustlines:function(){var e=this;e.listLoading=!0,Object(a["c"])().then((function(e){return e.json()})).then((function(t){e.listLoading=!1,e.tokenList=t}))},searchTrustline:function(){var e=this;e.listLoading=!0,Object(a["d"])(e.searchParam).then((function(e){return e.json()})).then((function(t){e.listLoading=!1,e.tokenList=t}))}}},o=s,l=(r("d236"),r("2877")),c=Object(l["a"])(o,n,i,!1,null,null,null);t["a"]=c.exports},fe12:function(e,t,r){"use strict";r("a95e")}}]);